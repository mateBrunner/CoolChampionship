<div class="container">
<div class="upper-box" #upperbox>

  <div class="box left-box mat-elevation-z10">
    <h5>Settings</h5>
    <div class="form-group">
      <label>Name</label>
      <input type="text" class="form-control" id="name" required [(ngModel)]="model.name" name="name"
             #name="ngModel" autocomplete="off" [class.bad-value]="!name.valid">
      <div [hidden]="name.valid"
           class="alert alert-danger">
        Name is required!
      </div>
      <div hidden class="alert alert-danger">
        Name is used!
      </div>
    </div>

    <div class="form-group">
      <label>Format</label>
      <select class="form-control" required [(ngModel)]="model.format">
        <option *ngFor="let format of formats" [value]="format">{{format}}</option>
      </select>
    </div>

    <div [ngSwitch]="model.format">
      <div *ngSwitchCase="'group'" class="form-group">-</div>
      <div *ngSwitchCase="'big-round'">
        <div class="form-group">
          <label>Number of matches per player: <b>{{ slider1.value }}</b></label>
          <mat-slider #slider1 [(ngModel)]="model.numberOfMatches" min="2" max="6" step="1" value="2" tickInterval="1" color="primary"
          [class.bad-value]="model.numberOfMatches>=selectedPlayers.length"></mat-slider>
        </div>
        <div [hidden]="model.numberOfMatches<selectedPlayers.length" class="alert alert-danger">
          There are too many matches!
        </div>

        <div class="form-group">
          <label>Size of Playoff: <b>{{ slider2.value }}</b></label>
          <mat-slider #slider2 [(ngModel)]="model.sizeOfPlayoff" min="0" max="16" step="2" value="4" tickInterval="2" color="primary"
          [class.bad-value]="model.sizeOfPlayoff>selectedPlayers.length"></mat-slider>
        </div>
        <div [hidden]="model.sizeOfPlayoff<=selectedPlayers.length"
             class="alert alert-danger">
          Size of playoff is too small!
        </div>
      </div>
    </div>

  </div>

  <div class="box middle-box mat-elevation-z10">
    <h5>Players</h5>
    <p id="number-of-players">Number of players: <b>{{ selectedPlayers.length }}</b></p>
    <div class="make-scrollable">
      <div *ngFor="let player of selectedPlayers">
        {{player.name}}
      </div>
    </div>
  </div>

  <div class="box right-box mat-elevation-z10">
    <h5>Select players</h5>
    <div class="make-scrollable">
      <table mat-table [dataSource]="allPlayers">
        <ng-container class="name-column" matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef style="display: none;">Name</th>
          <td mat-cell *matCellDef="let player">{{ player.name }}</td>
        </ng-container>

        <ng-container class="check-column" matColumnDef="select">
          <th mat-header-cell *matHeaderCellDef style="display: none;"></th>
          <td mat-cell *matCellDef="let player">
            <mat-checkbox color="primary" ng-checked="selectedPlayers.indexOf(player)>-1" (click)="selectPlayer(player)"></mat-checkbox>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedPlayerColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedPlayerColumns;"></tr>

      </table>
    </div>

  </div>
</div>
<button mat-button #startbutton id="start-button" [disabled]="upperbox.querySelectorAll('.bad-value').length>0" [class.is-disabled]="startbutton.disabled">Create</button>

